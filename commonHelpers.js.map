{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\n\nconst buttonCalendar = document.querySelector('button[data-start]');\nconst inputCalendar = document.querySelector('#datetime-picker');\nconst daysToHTML = document.querySelector('[data-days]');\nconst hoursToHTML = document.querySelector('[data-hours]');\nconst minutesToHTML = document.querySelector('[data-minutes]');\nconst secondsToHTML = document.querySelector('[data-seconds]');\n\nbuttonCalendar.disabled = true;\n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= options.defaultDate) {\n      iziToast.show({\n        title: '',\n        message: 'Please choose a date in the future',\n      });\n      buttonCalendar.disabled = true;\n    } else {\n      buttonCalendar.disabled = false;\n      userSelectedDate = selectedDates[0];\n    }\n    console.log(selectedDates[0]);\n  },\n};\n\nflatpickr(inputCalendar, options);\n\nbuttonCalendar.addEventListener('click', doCount);\n\nfunction doCount() {\n  inputCalendar.disabled = true;\n  buttonCalendar.disabled = true;\n  const timeCount = setInterval(() => {\n    const currentDate = Date.now();\n    const ms = userSelectedDate - currentDate;\n    const difference = convertMs(ms);\n    const result = addLeadingZero(difference);\n    daysToHTML.textContent = result[0];\n    hoursToHTML.textContent = result[1];\n    minutesToHTML.textContent = result[2];\n    secondsToHTML.textContent = result[3];\n\n    if (\n      daysToHTML.textContent === '00' &&\n      hoursToHTML.textContent === '00' &&\n      minutesToHTML.textContent === '00' &&\n      secondsToHTML.textContent === '00'\n    ) {\n      clearInterval(timeCount);\n      inputCalendar.disabled = false;\n      buttonCalendar.disabled = true;\n    }\n  }, 1000);\n}\n\nfunction addLeadingZero(value) {\n  const result = [\n    value.days.toString().padStart(2, '0'),\n    value.hours.toString().padStart(2, '0'),\n    value.minutes.toString().padStart(2, '0'),\n    value.seconds.toString().padStart(2, '0'),\n  ];\n  return result;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n\n  const hours = Math.floor((ms % day) / hour);\n\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n\n"],"names":["buttonCalendar","inputCalendar","daysToHTML","hoursToHTML","minutesToHTML","secondsToHTML","userSelectedDate","options","selectedDates","iziToast","flatpickr","doCount","timeCount","currentDate","ms","difference","convertMs","result","addLeadingZero","value","days","hours","minutes","seconds"],"mappings":"+IAIA,MAAMA,EAAiB,SAAS,cAAc,oBAAoB,EAC5DC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAgB,SAAS,cAAc,gBAAgB,EAE7DL,EAAe,SAAW,GAE1B,IAAIM,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,GAAKD,EAAQ,aAC9BE,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,oCACjB,CAAO,EACDT,EAAe,SAAW,KAE1BA,EAAe,SAAW,GAC1BM,EAAmBE,EAAc,CAAC,GAEpC,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC7B,CACH,EAEAE,EAAUT,EAAeM,CAAO,EAEhCP,EAAe,iBAAiB,QAASW,CAAO,EAEhD,SAASA,GAAU,CACjBV,EAAc,SAAW,GACzBD,EAAe,SAAW,GAC1B,MAAMY,EAAY,YAAY,IAAM,CAClC,MAAMC,EAAc,KAAK,MACnBC,EAAKR,EAAmBO,EACxBE,EAAaC,EAAUF,CAAE,EACzBG,EAASC,EAAeH,CAAU,EACxCb,EAAW,YAAce,EAAO,CAAC,EACjCd,EAAY,YAAcc,EAAO,CAAC,EAClCb,EAAc,YAAca,EAAO,CAAC,EACpCZ,EAAc,YAAcY,EAAO,CAAC,EAGlCf,EAAW,cAAgB,MAC3BC,EAAY,cAAgB,MAC5BC,EAAc,cAAgB,MAC9BC,EAAc,cAAgB,OAE9B,cAAcO,CAAS,EACvBX,EAAc,SAAW,GACzBD,EAAe,SAAW,GAE7B,EAAE,GAAI,CACT,CAEA,SAASkB,EAAeC,EAAO,CAO7B,MANe,CACbA,EAAM,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACrCA,EAAM,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtCA,EAAM,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACxCA,EAAM,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CAC5C,CAEA,CAEA,SAASH,EAAUF,EAAI,CAMrB,MAAMM,EAAO,KAAK,MAAMN,EAAK,KAAG,EAE1BO,EAAQ,KAAK,MAAOP,EAAK,MAAO,IAAI,EAEpCQ,EAAU,KAAK,MAAQR,EAAK,MAAO,KAAQ,GAAM,EAEjDS,EAAU,KAAK,MAAST,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAM,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}